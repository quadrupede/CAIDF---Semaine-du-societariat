var APP={};!function(){APP={timerHelp:null,initialize:function(){},initPage:function(){$("html").width(3*$(window).width()),$("body").width(3*$(window).width());var t=new MobileDetect(window.navigator.userAgent);t.tablet()||t.phone()||(e.modules.animation.initAnimation(),$("body").mousewheel(function(t,n){this.scrollLeft-=30*n,t.preventDefault(),clearTimeout(e.timerHelp),$(".section-1__left__content__help").addClass("hidden")})),e.modules.jeu.initJeu(),$(".videos__videos").slick(),$(".section-1__left__content__btn").click(e.scrollToLeft),$("body").imagesLoaded(e.getUrlInfos),e.timerHelp=setTimeout(e.displayHelp,5e3)},getUrlInfos:function(){var e=window.location.hash;e=e.split("#")[1],"jeu"==e&&$("html,body").scrollLeft(10*$(window).width())},setVideos:function(){$(".videos__video iframe").each(function(e){var t=this;setTimeout(function(){$(t).attr("src",$(t).attr("data-src"))},500*e)})},scrollToLeft:function(t){t.preventDefault(),$("html,body").animate({scrollLeft:$(window).width()/10*4+20},600,"easeInOutCubic"),clearTimeout(e.timerHelp),$(".section-1__left__content__help").addClass("hidden")},displayHelp:function(){$(".section-1__left__content__help").removeClass("hidden")}};var e=APP}(),function(){APP.modules=APP.modules||{},APP.modules.animation={initAnimation:function(){var e=new ScrollMagic.Controller({vertical:!1});new ScrollMagic.Scene({triggerElement:"#section-1",triggerHook:"onLeave",duration:"125%",offset:$(window).width()/10*4}).setTween(".section-1",{left:"25%",ease:Linear.easeNone}).addTo(e),new ScrollMagic.Scene({triggerElement:"#section-2",triggerHook:"onLeave",duration:"125%"}).setTween(".section-2",{left:"25%",ease:Linear.easeNone}).addTo(e),new ScrollMagic.Scene({triggerElement:"#section-3",triggerHook:"onLeave",duration:"125%"}).setTween(".section-3",{left:"25%",ease:Linear.easeNone}).addTo(e),new ScrollMagic.Scene({triggerElement:"#section-1",triggerHook:"onLeave",duration:"60%"}).setTween(".section-1__background",{width:"155vw",ease:Linear.easeNone}).addTo(e),new ScrollMagic.Scene({triggerElement:"#section-2",triggerHook:"onEnter",duration:"150%",offset:$(window).width()/2}).setTween(".bouger__background",{left:"0%",ease:Linear.easeNone}).addTo(e),new ScrollMagic.Scene({triggerElement:"#section-2",triggerHook:"onEnter",duration:"100%",offset:$(window).width()/2}).setTween(".bouger__cloud1",{left:"-5%",ease:Linear.easeNone}).addTo(e),new ScrollMagic.Scene({triggerElement:"#section-2",triggerHook:"onEnter",duration:"100%",offset:$(window).width()/2}).setTween(".bouger__cloud2",{left:"60%",ease:Linear.easeNone}).addTo(e),new ScrollMagic.Scene({triggerElement:"#section-3",triggerHook:.1}).setClassToggle(".videos__btn","visible").addTo(e),new ScrollMagic.Scene({triggerElement:"#section-4",triggerHook:.1}).setClassToggle(".jeu__top--start__square-1","jeu__top--start__square-1--rotate").addTo(e),new ScrollMagic.Scene({triggerElement:"#section-4",triggerHook:"onEnter",duration:"100%"}).setTween(".jeu__top--start",{backgroundPosition:"13% center",ease:Linear.easeNone}).addTo(e)}};APP.modules.animation}(),function(){APP.modules=APP.modules||{},APP.modules.jeu={currentScreen:0,currentWord:"",timerHelp:null,initJeu:function(){e.initScreen(),$(".jeu__bottom--start__btn").click(e.nextScreen)},initScreen:function(){$(".jeu--ecrans").each(function(){for(var e=$(this).attr("data-word"),t=0;t<e.length;t++)" "!=e.charAt(t)?$(this).find(".jeu__bottom__letters").append('<div class="jeu__bottom__letter"><input class="jeu__bottom__letter__input jeu__bottom__letter__input--'+t+'" type="text"  maxlength="1" data-num="'+t+'" data-letter="'+e.charAt(t)+'"></div>'):$(this).find(".jeu__bottom__letters").append('<div class="jeu__bottom__letter jeu__bottom__letter--space" data-letter="'+e.charAt(t)+'"><input class="jeu__bottom__letter__input jeu__bottom__letter__input--'+t+' jeu__bottom__letter__input--space" type="text" value="'+e.charAt(t)+'" disabled="true" maxlength="1" data-num="'+t+'" data-letter="'+e.charAt(t)+'"></div>')}),$(".jeu__bottom__letter__input").focus(e.onInputFocus),$(".jeu__bottom__btn--indice").click(e.showIndice)},showIndice:function(){$(this).addClass("hidden"),$(this).parent().find(".jeu__bottom__indice").removeClass("hidden")},onInputChange:function(t){switch(t.keyCode){case 32:$(this).val("");break;default:if(""!=$(this).val()){for(var n=Number($(this).attr("data-num")),o=n+1;$(".jeu__bottom__letter__input--"+o).hasClass("jeu__bottom__letter__input--space");)o++;$(".jeu__bottom__letter__input--"+o).length&&($(".jeu__bottom__letter__input--"+o).focus(),$(this).unbind("keyup"),$(this).unbind("keydown")),e.checkAnswer(),clearTimeout(e.timerHelp)}}},checkAnswer:function(t){for(var n=!0,o=0;o<e.currentWord.length;o++){var i=$(".jeu--"+e.currentScreen).find(".jeu__bottom__letter__input--"+o).val();e.currentWord.charAt(o)!=i&&(n=!1)}n&&e.nextScreen()},onBackSpace:function(e){if(8==e.keyCode){$(this).val("");var t=Number($(this).attr("data-num"));if(0!=t){for(var n=t-1;$(".jeu__bottom__letter__input--"+n).hasClass("jeu__bottom__letter__input--space");)n--;$(".jeu__bottom__letter__input--"+n).focus(),$(this).unbind("keyup"),$(this).unbind("keydown")}}},onInputFocus:function(){$(this).val(""),$(this).keyup(e.onInputChange),$(this).keydown(e.onBackSpace)},nextScreen:function(){e.currentScreen++,$(".jeu--current").addClass("jeu--before"),$(".jeu--current").removeClass("jeu--current"),$(".jeu--"+e.currentScreen).removeClass("jeu--after"),$(".jeu--"+e.currentScreen).addClass("jeu--current"),$(".jeu--"+e.currentScreen).hasClass("jeu--end")||($(".jeu--"+e.currentScreen).find(".jeu__bottom__letter__input--0").focus(),e.currentWord=$(".jeu--"+e.currentScreen).attr("data-word")),e.timerHelp=setTimeout(e.displayHelp,5e3)},displayHelp:function(){$(".jeu__bottom__help").removeClass("hidden")}};var e=APP.modules.jeu}();